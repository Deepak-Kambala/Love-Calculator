<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Love Letter Generator</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</head>
<body>
    <div id="app" class="container">
        <h1 class="title">Pixel Love Letter Generator üíå</h1>

        <div class="layout-grid">
            <!-- Compose Message Section -->
            <div class="compose-section pixel-border">
                <h2 class="section-title">Compose Your Love Letter</h2>

                <!-- Template Selector -->
                <div class="input-group">
                    <div class="input-row">
                        <label for="templateSelect" style="margin-bottom:5px; display:block;">Choose a Template:</label>
                        <select id="templateSelect" onchange="applyTemplate()" class="pixel-border">
                            <option value="">-- Select a template --</option>
                            <option value="romantic">Romantic ‚ù§Ô∏è</option>
                            <option value="cute">Cute & Playful üêª</option>
                            <option value="poetic">Poetic ‚ú®</option>
                            <option value="funny">Funny üòÜ</option>
                        </select>
                    </div>
                </div>

                <div class="input-group">
                    <div class="input-row">
                        <input type="text" id="inputTo" placeholder="To: My Dearest..." oninput="updatePreview()">
                    </div>
                    <div class="input-row">
                        <input type="text" id="inputFrom" placeholder="From: Your Beloved..." oninput="updatePreview()">
                    </div>
                    <div class="input-row">
                        <input type="text" id="inputDate" placeholder="Date: (e.g., Feb 14, Year)" oninput="updatePreview()">
                    </div>
                </div>

                <div class="message-input-container">
                    <textarea id="inputContent" oninput="updatePreview()" placeholder="Write your heartfelt message here, my love..." maxlength="800"></textarea>
                    <div id="charCounter" class="char-counter">0/800</div>
                </div>
            </div>

            <!-- Preview Section -->
            <div class="preview-section">
                <div id="letterPreviewArea" class="love-letter-paper">
                    <span class="heart-decoration heart-top-left">‚ù§Ô∏è</span>
                    <span class="heart-decoration heart-bottom-right">‚ù§Ô∏è</span>

                    <div class="letter-content">
                        <div id="previewDate" class="letter-date"></div>
                        <div id="previewTo" class="letter-to"></div>
                        <div id="previewContent" class="letter-text"></div>
                        <div id="previewFrom" class="letter-from">
                            <p class="closing">With all my love,</p>
                            <p class="signature"></p>
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button onclick="exportAsPng()" class="btn-pixel btn-green">
                        Export as PNG 
                    </button>
                    <button onclick="copyDocumentToClipboard()" class="btn-pixel btn-blue">
                        Copy Text to Clipboard
                    </button>
                    <button onclick="window.location.href='../index.html'" class="btn-pixel btn-red">
                        Back to Home
                    </button>
                </div>

                <div id="messageBox" class="message-box"></div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
